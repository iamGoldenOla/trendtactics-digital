<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hub Issue Diagnosis</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-result {
            margin: 15px 0;
            padding: 15px;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .warning {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #007bff;
            background-color: #f8f9fa;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Hub Issue Diagnosis</h1>
        
        <div class="section">
            <h2>Current Page Information</h2>
            <div class="test-result" id="current-url">
                <strong>Current URL:</strong> <span id="url-display"></span>
            </div>
            
            <div class="test-result" id="referrer-info">
                <strong>Referrer:</strong> <span id="referrer-display"></span>
            </div>
            
            <div class="test-result" id="hash-info">
                <strong>Hash:</strong> <span id="hash-display"></span>
            </div>
        </div>
        
        <div class="section">
            <h2>Direct Navigation Tests</h2>
            <button onclick="navigateToHub()">Navigate to /hub</button>
            <button onclick="navigateToHubHtml()">Navigate to /hub.html</button>
            <button onclick="navigateWithHash()">Navigate to /hub#test</button>
            <button onclick="clearHash()">Clear Hash</button>
        </div>
        
        <div class="section">
            <h2>Debug Information</h2>
            <div class="test-result">
                <p><strong>Window Location Properties:</strong></p>
                <pre id="location-properties"></pre>
            </div>
            
            <div class="test-result">
                <p><strong>User Agent:</strong></p>
                <pre id="user-agent"></pre>
            </div>
        </div>
        
        <div class="section">
            <h2>Possible Causes</h2>
            <div class="test-result warning">
                <p><strong>Based on our investigation, here are possible causes for the hash issue:</strong></p>
                <ol>
                    <li><strong>Custom Domain Redirect:</strong> The custom domain (trendtacticsdigital.com) might be redirecting with a hash</li>
                    <li><strong>Browser History/Caching:</strong> Your browser might have cached a redirect with hash</li>
                    <li><strong>External Script:</strong> Some third-party script might be manipulating the URL</li>
                    <li><strong>Server Configuration:</strong> Server-side redirect rules might be adding the hash</li>
                </ol>
            </div>
        </div>
        
        <div class="section">
            <h2>Troubleshooting Steps</h2>
            <div class="test-result">
                <ol>
                    <li>Try accessing the page in an incognito/private browser window</li>
                    <li>Clear your browser cache and cookies for this domain</li>
                    <li>Try accessing via the GitHub Pages URL: https://iamGoldenOla.github.io/trendtacticsdigital/hub</li>
                    <li>Check if any browser extensions might be modifying the URL</li>
                </ol>
            </div>
        </div>
    </div>

    <script>
        // Display current URL information
        function displayUrlInfo() {
            document.getElementById('url-display').textContent = window.location.href;
            document.getElementById('referrer-display').textContent = document.referrer || 'None';
            document.getElementById('hash-display').textContent = window.location.hash || 'None';
            
            // Display all location properties
            const loc = window.location;
            const props = {
                href: loc.href,
                origin: loc.origin,
                protocol: loc.protocol,
                host: loc.host,
                hostname: loc.hostname,
                port: loc.port,
                pathname: loc.pathname,
                search: loc.search,
                hash: loc.hash
            };
            
            document.getElementById('location-properties').textContent = JSON.stringify(props, null, 2);
            
            // Display user agent
            document.getElementById('user-agent').textContent = navigator.userAgent;
        }
        
        // Navigation functions
        function navigateToHub() {
            window.location.href = '/hub';
        }
        
        function navigateToHubHtml() {
            window.location.href = '/hub.html';
        }
        
        function navigateWithHash() {
            window.location.href = '/hub#test';
        }
        
        function clearHash() {
            window.location.hash = '';
        }
        
        // Initialize
        displayUrlInfo();
        
        // Update info when hash changes
        window.addEventListener('hashchange', displayUrlInfo);
        
        // Also update periodically to catch any external changes
        setInterval(displayUrlInfo, 1000);
    </script>
</body>
</html>